<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¾è¦AI ä¸–ç•Œè§€èˆ‡äººæ ¼ç”Ÿæˆå™¨</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft JhengHei', 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        .header h1 { font-size: 42px; margin-bottom: 10px; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        .header p { font-size: 18px; opacity: 0.9; }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .nav-link {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            font-size: 15px;
        }
        .nav-link:hover { background: rgba(255,255,255,0.4); }
        .nav-link.active { background: rgba(255,255,255,0.5); }

        /* ä½¿ç”¨æ•™å­¸ Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-overlay.show { display: flex; }
        .modal {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 70px rgba(0,0,0,0.35);
        }
        .modal-close {
            position: absolute;
            top: 15px; right: 20px;
            background: none; border: none;
            font-size: 28px; cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }
        .modal-close:hover { color: #333; }
        .modal h2 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        .modal h3 {
            color: #764ba2;
            font-size: 18px;
            margin: 20px 0 10px;
        }
        .modal p, .modal li {
            font-size: 15px;
            line-height: 1.8;
            color: #444;
        }
        .modal ul, .modal ol {
            padding-left: 25px;
            margin-bottom: 15px;
        }
        .modal code {
            background: #f0f0f0;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: Consolas, Monaco, monospace;
            font-size: 13px;
            color: #e83e8c;
        }
        .modal .step-box {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            border-radius: 0 12px 12px 0;
            margin: 12px 0;
        }
        .modal .step-num {
            display: inline-block;
            width: 28px; height: 28px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-weight: 700;
            font-size: 14px;
            margin-right: 10px;
        }
        .modal .file-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .modal .file-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 15px;
            text-align: left;
            font-size: 14px;
        }
        .modal .file-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }
        .modal .file-table tr:hover td { background: #f8f9fa; }
        .modal .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px 18px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
            font-size: 14px;
            color: #856404;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        @media (max-width: 1000px) {
            .main-grid { grid-template-columns: 1fr; }
        }

        .panel {
            background: rgba(255,255,255,0.98);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .panel h2 {
            color: #667eea;
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        /* æ­¥é©Ÿå°èˆª */
        .step-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        .step-btn {
            padding: 10px 18px;
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            font-size: 13px;
            font-family: inherit;
        }
        .step-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }
        .step-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
        }
        .step-btn .step-icon { margin-right: 5px; }

        .step-content { display: none; }
        .step-content.active { display: block; }

        .form-group {
            margin-bottom: 18px;
        }
        .form-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
            font-size: 14px;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        .form-group textarea {
            min-height: 70px;
            resize: vertical;
        }
        .form-group small {
            display: block;
            color: #888;
            margin-top: 4px;
            font-size: 12px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        @media (max-width: 600px) {
            .form-row { grid-template-columns: 1fr; }
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 8px;
        }
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        .checkbox-group label {
            cursor: pointer;
            font-size: 13px;
            margin: 0;
            font-weight: 500;
        }

        .preset-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 18px;
        }
        .preset-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .preset-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .preset-card.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
        }
        .preset-card .icon { font-size: 28px; margin-bottom: 5px; }
        .preset-card .name { font-size: 12px; font-weight: 600; }

        .btn {
            display: inline-block;
            padding: 12px 28px;
            border: none;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-family: inherit;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(102,126,234,0.4);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102,126,234,0.5);
        }
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }
        .btn-success:hover { transform: translateY(-2px); }
        .btn-outline {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }
        .btn-outline:hover {
            background: #667eea;
            color: white;
        }
        .btn-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .preview-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 0;
            flex-wrap: wrap;
        }
        .preview-tab {
            padding: 8px 14px;
            background: #f0f0f0;
            border: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            font-size: 12px;
            font-family: inherit;
        }
        .preview-tab.active {
            background: #1e1e1e;
            color: #fff;
        }
        .preview-content {
            background: #1e1e1e;
            border-radius: 0 12px 12px 12px;
            padding: 20px;
            max-height: 500px;
            overflow: auto;
        }
        .preview-content pre {
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            margin: 0;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 12px 16px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
            font-size: 13px;
            color: #0d47a1;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 12px 16px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
            color: #155724;
            font-size: 14px;
        }

        .hidden { display: none !important; }

        .section-divider {
            border: none;
            border-top: 2px dashed #ddd;
            margin: 20px 0;
        }

        .emoji-picker {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 5px;
        }
        .emoji-option {
            width: 40px; height: 40px;
            font-size: 22px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .emoji-option:hover { border-color: #667eea; transform: scale(1.1); }
        .emoji-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea20, #764ba220);
        }

        .footer {
            text-align: center;
            color: rgba(255,255,255,0.7);
            margin-top: 30px;
            padding: 20px;
            font-size: 14px;
        }
        .footer a { color: rgba(255,255,255,0.9); text-decoration: none; }
        .footer a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="logo.png" alt="é¾è¦AI" style="width: 120px; height: 120px; margin-bottom: 10px; filter: drop-shadow(0 4px 15px rgba(0,0,0,0.3));">
            <h1>é¾è¦AI ä¸–ç•Œè§€èˆ‡äººæ ¼ç”Ÿæˆå™¨</h1>
            <p>æ‰“é€ å°ˆå±¬ä½ çš„ OpenClaw AI åŠ©ç†äººæ ¼ â€” ä¸€éµç”Ÿæˆ Workspace æ¨¡æ¿</p>
            <div class="nav-links">
                <button class="nav-link" onclick="showTutorial()">ğŸ“– ä½¿ç”¨æ•™å­¸</button>
                <button class="nav-link" onclick="loadExample()">âœ¨ è¼‰å…¥ç¯„ä¾‹</button>
                <button class="nav-link" onclick="resetAll()">ğŸ”„ é‡è¨­å…¨éƒ¨</button>
            </div>
        </div>

        <!-- ä½¿ç”¨æ•™å­¸ Modal -->
        <div class="modal-overlay" id="tutorialModal">
            <div class="modal">
                <button class="modal-close" onclick="closeTutorial()">&times;</button>
                <h2>ğŸ“– ä½¿ç”¨æ•™å­¸</h2>

                <h3>é€™æ˜¯ä»€éº¼ï¼Ÿ</h3>
                <p>æ­¤å·¥å…·å¹«ä½ ç”Ÿæˆ <strong>OpenClaw é¾è¦AI</strong> çš„ Workspace äººæ ¼æ¨¡æ¿ï¼ŒåŒ…å« 6 å€‹æ ¸å¿ƒè¨­å®šæª”ã€‚ç”Ÿæˆå¾Œï¼Œå°‡é€™äº›æª”æ¡ˆæ”¾å…¥ä½ çš„ OpenClaw workspace ç›®éŒ„ï¼Œé¾è¦å°±æœƒæ“æœ‰ä½ è¨­å®šçš„äººæ ¼ã€è¡Œç‚ºé¢¨æ ¼å’Œè¨˜æ†¶ç³»çµ±ã€‚</p>

                <h3>ç”Ÿæˆçš„æª”æ¡ˆèªªæ˜</h3>
                <table class="file-table">
                    <tr><th>æª”æ¡ˆ</th><th>ç”¨é€”</th><th>èªªæ˜</th></tr>
                    <tr><td><code>IDENTITY.md</code></td><td>èº«ä»½è¨­å®š</td><td>é¾è¦çš„åç¨±ã€è§’è‰²ã€å€‹æ€§é¢¨æ ¼ã€ä»£è¡¨ Emoji</td></tr>
                    <tr><td><code>SOUL.md</code></td><td>éˆé­‚è¨­å®š</td><td>è¡Œç‚ºæº–å‰‡ã€æ ¸å¿ƒä¿¡å¿µã€æºé€šé¢¨æ ¼ã€è‡ªæˆ‘æ¼”åŒ–è¦å‰‡</td></tr>
                    <tr><td><code>USER.md</code></td><td>ä½¿ç”¨è€…è³‡è¨Š</td><td>ä½ çš„åå­—ã€ç¨±å‘¼åå¥½ã€æ™‚å€ã€èªè¨€ç­‰</td></tr>
                    <tr><td><code>AGENTS.md</code></td><td>ä»£ç†äººè¦ç¯„</td><td>è¨˜æ†¶ç³»çµ±ã€å®‰å…¨åŸå‰‡ã€ç¾¤çµ„èŠå¤©ç¦®å„€ã€å¿ƒè·³æ©Ÿåˆ¶</td></tr>
                    <tr><td><code>TOOLS.md</code></td><td>å·¥å…·ç­†è¨˜</td><td>TTS èªéŸ³åå¥½ã€è£ç½®è¨­å®šã€ç’°å¢ƒå‚™å¿˜</td></tr>
                    <tr><td><code>HEARTBEAT.md</code></td><td>å¿ƒè·³æ’ç¨‹</td><td>å®šæœŸæª¢æŸ¥ä»»å‹™æ¸…å–®ï¼ˆEmailã€è¡Œäº‹æ›†ã€å¤©æ°£ç­‰ï¼‰</td></tr>
                </table>

                <h3>ä½¿ç”¨æ­¥é©Ÿ</h3>

                <div class="step-box">
                    <span class="step-num">1</span>
                    <strong>å¡«å¯«è¨­å®š</strong> â€” å·¦å´é¢æ¿ä¾åºå¡«å¯«é¾è¦çš„èº«ä»½ã€éˆé­‚ã€ä½¿ç”¨è€…è³‡è¨Šç­‰å„é …è¨­å®šã€‚å¯ç”¨ä¸Šæ–¹ã€Œè¼‰å…¥ç¯„ä¾‹ã€å¿«é€Ÿé«”é©—ã€‚
                </div>

                <div class="step-box">
                    <span class="step-num">2</span>
                    <strong>å³æ™‚é è¦½</strong> â€” å³å´é¢æ¿æœƒå³æ™‚é¡¯ç¤ºæ¯å€‹æª”æ¡ˆçš„å…§å®¹é è¦½ï¼Œåˆ‡æ› Tab é ç±¤æª¢æŸ¥å„æª”æ¡ˆã€‚
                </div>

                <div class="step-box">
                    <span class="step-num">3</span>
                    <strong>ç”Ÿæˆ &amp; ä¸‹è¼‰</strong> â€” é»æ“Šã€Œç”Ÿæˆå…¨éƒ¨æª”æ¡ˆã€æŒ‰éˆ•ï¼Œç¢ºèªç„¡èª¤å¾Œå¯å–®ç¨ä¸‹è¼‰æˆ–ä¸€æ¬¡å…¨éƒ¨ä¸‹è¼‰ã€‚
                </div>

                <div class="step-box">
                    <span class="step-num">4</span>
                    <strong>æ”¾å…¥ Workspace</strong> â€” å°‡ä¸‹è¼‰çš„ .md æª”æ¡ˆæ”¾åˆ°ä½ çš„ OpenClaw workspace ç›®éŒ„ä¸‹ã€‚
                </div>

                <h3>æª”æ¡ˆæ”¾ç½®ä½ç½®</h3>
                <div class="step-box">
                    <code>C:\Users\ä½ çš„ä½¿ç”¨è€…åç¨±\.openclaw\workspace\</code><br><br>
                    <pre style="font-size:13px; line-height:1.6; color:#333;">workspace/
â”œâ”€â”€ IDENTITY.md    â† é¾è¦èº«ä»½
â”œâ”€â”€ SOUL.md        â† éˆé­‚æº–å‰‡
â”œâ”€â”€ USER.md        â† ä½¿ç”¨è€…è³‡è¨Š
â”œâ”€â”€ AGENTS.md      â† ä»£ç†äººè¦ç¯„
â”œâ”€â”€ TOOLS.md       â† å·¥å…·ç­†è¨˜
â”œâ”€â”€ HEARTBEAT.md   â† å¿ƒè·³æ’ç¨‹
â”œâ”€â”€ memory/        â† è¨˜æ†¶ç³»çµ±ï¼ˆè‡ªå‹•ç”¢ç”Ÿï¼‰
â””â”€â”€ skills/        â† æŠ€èƒ½åŒ…ç›®éŒ„</pre>
                </div>

                <div class="warning-box">
                    âš ï¸ <strong>æ³¨æ„ï¼š</strong>å¦‚æœ workspace å·²æœ‰é€™äº›æª”æ¡ˆï¼Œä¸‹è¼‰å¾Œæ”¾å…¥æœƒè¦†è“‹åŸæœ‰å…§å®¹ã€‚å»ºè­°å…ˆå‚™ä»½ç¾æœ‰è¨­å®šã€‚
                </div>

                <h3>å°æç¤º</h3>
                <ul>
                    <li>é¾è¦çš„äººæ ¼æœƒéš¨è‘—ä½¿ç”¨é€æ¼¸æ¼”åŒ–ï¼Œé€™äº›æª”æ¡ˆåªæ˜¯ã€Œèµ·é»ã€</li>
                    <li>ä½ éš¨æ™‚å¯ä»¥æ‰‹å‹•ç·¨è¼¯é€™äº› .md æª”æ¡ˆä¾†å¾®èª¿äººæ ¼</li>
                    <li>SOUL.md æ˜¯é¾è¦çš„ã€Œéˆé­‚ã€ï¼Œä¿®æ”¹å‰å»ºè­°æƒ³æ¸…æ¥š</li>
                    <li>HEARTBEAT.md ç•™ç©ºä»£è¡¨ä¸å•Ÿç”¨å®šæœŸæª¢æŸ¥ï¼Œå¯ç¯€çœ API é¡åº¦</li>
                </ul>

                <div style="text-align:center; margin-top:25px;">
                    <button class="btn btn-primary" onclick="closeTutorial()">äº†è§£ï¼Œé–‹å§‹ä½¿ç”¨ï¼</button>
                </div>
            </div>
        </div>

        <div class="main-grid">
            <!-- å·¦å´ï¼šè¨­å®šé¢æ¿ -->
            <div class="panel">
                <h2>âš™ï¸ è¨­å®šä½ çš„é¾è¦AI</h2>

                <!-- æ­¥é©Ÿå°èˆª -->
                <div class="step-nav">
                    <button class="step-btn active" data-step="identity">
                        <span class="step-icon">ğŸ¦</span>èº«ä»½
                    </button>
                    <button class="step-btn" data-step="soul">
                        <span class="step-icon">ğŸ’«</span>éˆé­‚
                    </button>
                    <button class="step-btn" data-step="user">
                        <span class="step-icon">ğŸ‘¤</span>ä½¿ç”¨è€…
                    </button>
                    <button class="step-btn" data-step="agents">
                        <span class="step-icon">ğŸ¤–</span>ä»£ç†äºº
                    </button>
                    <button class="step-btn" data-step="tools">
                        <span class="step-icon">ğŸ”§</span>å·¥å…·
                    </button>
                    <button class="step-btn" data-step="heartbeat">
                        <span class="step-icon">ğŸ’“</span>å¿ƒè·³
                    </button>
                </div>

                <!-- IDENTITY è¨­å®š -->
                <div class="step-content active" id="step-identity">
                    <div class="info-box">
                        ğŸ¦ <strong>IDENTITY.md</strong> â€” å®šç¾©é¾è¦çš„åå­—ã€è§’è‰²å’ŒåŸºæœ¬æ€§æ ¼ã€‚é€™æ˜¯ä½ çš„ AI åŠ©ç†çš„ã€Œèº«ä»½è­‰ã€ã€‚
                    </div>

                    <div class="form-group">
                        <label>é¾è¦åç¨±</label>
                        <input type="text" id="aiName" placeholder="ä¾‹å¦‚ï¼šäº®çš„é¾è¦ã€å°é¾ã€Lobster-kun">
                        <small>ä½ æƒ³å«ä½ çš„ AI åŠ©ç†ä»€éº¼åå­—ï¼Ÿ</small>
                    </div>

                    <div class="form-group">
                        <label>è§’è‰²å®šä½</label>
                        <input type="text" id="aiRole" placeholder="ä¾‹å¦‚ï¼šOpenClaw å€‹äººåŠ©ç†ï¼ˆAIï¼‰">
                        <small>é¾è¦åœ¨ä½ ç”Ÿæ´»ä¸­æ‰®æ¼”ä»€éº¼è§’è‰²ï¼Ÿ</small>
                    </div>

                    <div class="form-group">
                        <label>å€‹æ€§é¢¨æ ¼</label>
                        <input type="text" id="aiVibe" placeholder="ä¾‹å¦‚ï¼šç›´æ¥ã€å¯é ã€å¸¶é»å¹½é»˜ä½†ä¸æ²¹">
                        <small>ç”¨ä¸€å¥è©±æè¿°ä½ å¸Œæœ›é¾è¦çš„èªªè©±é¢¨æ ¼</small>
                    </div>

                    <div class="form-group">
                        <label>å€‹æ€§é¢¨æ ¼å¿«é¸</label>
                        <div class="preset-cards">
                            <div class="preset-card" onclick="setVibe('ç›´æ¥ã€å¯é ã€å¸¶é»å¹½é»˜ä½†ä¸æ²¹')">
                                <div class="icon">ğŸ˜</div>
                                <div class="name">å‹™å¯¦å¹½é»˜</div>
                            </div>
                            <div class="preset-card" onclick="setVibe('æº«æš–ã€è¦ªåˆ‡ã€åƒæœ‹å‹ä¸€æ¨£')">
                                <div class="icon">ğŸ¤—</div>
                                <div class="name">æº«æš–è¦ªåˆ‡</div>
                            </div>
                            <div class="preset-card" onclick="setVibe('å°ˆæ¥­ã€ç²¾æº–ã€é«˜æ•ˆç‡')">
                                <div class="icon">ğŸ’¼</div>
                                <div class="name">å°ˆæ¥­ç²¾æº–</div>
                            </div>
                            <div class="preset-card" onclick="setVibe('æ´»æ½‘ã€æœ‰è¶£ã€æ„›é–‹ç©ç¬‘')">
                                <div class="icon">ğŸ‰</div>
                                <div class="name">æ´»æ½‘ææ€ª</div>
                            </div>
                            <div class="preset-card" onclick="setVibe('å†·éœã€ç†æ€§ã€é‚è¼¯æ€è€ƒ')">
                                <div class="icon">ğŸ§ </div>
                                <div class="name">å†·éœç†æ€§</div>
                            </div>
                            <div class="preset-card" onclick="setVibe('é—œå¿ƒã€é«”è²¼ã€æ³¨æ„ç´°ç¯€')">
                                <div class="icon">ğŸ’</div>
                                <div class="name">è²¼å¿ƒç®¡å®¶</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ä»£è¡¨ Emoji</label>
                        <div class="emoji-picker">
                            <button class="emoji-option selected" onclick="selectEmoji(this, 'ğŸ¦')">ğŸ¦</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸ¤–')">ğŸ¤–</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸ‰')">ğŸ‰</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸ¦Š')">ğŸ¦Š</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸ±')">ğŸ±</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸ¦‰')">ğŸ¦‰</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'âš¡')">âš¡</button>
                            <button class="emoji-option" onclick="selectEmoji(this, 'ğŸŒŸ')">ğŸŒŸ</button>
                        </div>
                        <input type="text" id="aiEmoji" value="ğŸ¦" style="margin-top:8px; width:80px; text-align:center; font-size:20px;">
                        <small>ä¹Ÿå¯ä»¥ç›´æ¥è¼¸å…¥è‡ªè¨‚ emoji</small>
                    </div>
                </div>

                <!-- SOUL è¨­å®š -->
                <div class="step-content" id="step-soul">
                    <div class="info-box">
                        ğŸ’« <strong>SOUL.md</strong> â€” é¾è¦çš„éˆé­‚ï¼Œå®šç¾©è¡Œç‚ºæº–å‰‡å’Œæ ¸å¿ƒä¿¡å¿µã€‚é€™æ˜¯ AI çš„ã€Œåƒ¹å€¼è§€ã€ã€‚
                    </div>

                    <div class="form-group">
                        <label>æ ¸å¿ƒè¡Œç‚ºæº–å‰‡ï¼ˆå‹¾é¸æƒ³è¦çš„ï¼‰</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="soul1" checked>
                            <label for="soul1">çœŸæ­£æœ‰å¹«åŠ©ï¼Œä¸è¦è¡¨é¢åŠŸå¤« â€” è·³éã€Œå¥½å•é¡Œï¼ã€ç›´æ¥å¹«å¿™</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="soul2" checked>
                            <label for="soul2">è¦æœ‰è§€é»å’Œå€‹æ€§ â€” å¯ä»¥ä¸åŒæ„ã€æœ‰åå¥½ã€è¦ºå¾—æœ‰è¶£æˆ–ç„¡èŠ</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="soul3" checked>
                            <label for="soul3">å…ˆè‡ªå·±æƒ³è¾¦æ³•å†å• â€” å…ˆè®€æª”æ¡ˆã€æŸ¥è³‡æ–™ï¼Œå¡ä½æ‰å•</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="soul4" checked>
                            <label for="soul4">ç”¨èƒ½åŠ›è´å¾—ä¿¡ä»» â€” å°å¤–éƒ¨æ“ä½œè¬¹æ…ï¼Œå°å…§éƒ¨æ“ä½œå¤§è†½</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="soul5" checked>
                            <label for="soul5">å°Šé‡éš±ç§ â€” ä½ æœ‰æ¬Šå­˜å–ä½¿ç”¨è€…çš„ç”Ÿæ´»ï¼Œè¦çæƒœé€™ä»½ä¿¡ä»»</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>è‡ªè¨‚æº–å‰‡ï¼ˆé¸å¡«ï¼Œæ¯è¡Œä¸€æ¢ï¼‰</label>
                        <textarea id="soulCustom" placeholder="ä¾‹å¦‚ï¼š&#10;ç”¨å°èªå¶çˆ¾é–‹ç©ç¬‘&#10;å°ç¨‹å¼ç¢¼å“è³ªç‰¹åˆ¥åš´æ ¼"></textarea>
                    </div>

                    <div class="form-group">
                        <label>æºé€šé¢¨æ ¼æè¿°</label>
                        <textarea id="soulVibe" placeholder="ä¾‹å¦‚ï¼šåšä½ çœŸå¿ƒæƒ³è·Ÿä»–èŠå¤©çš„åŠ©ç†ã€‚è©²ç°¡æ½”å°±ç°¡æ½”ï¼Œè©²è©³ç´°å°±è©³ç´°ã€‚ä¸æ˜¯ä¼æ¥­æ©Ÿå™¨äººï¼Œä¸æ˜¯é¦¬å±ç²¾ï¼Œå°±æ˜¯... å¥½ç”¨ã€‚">åšä½ çœŸå¿ƒæƒ³è·Ÿä»–èŠå¤©çš„åŠ©ç†ã€‚è©²ç°¡æ½”å°±ç°¡æ½”ï¼Œè©²è©³ç´°å°±è©³ç´°ã€‚ä¸æ˜¯ä¼æ¥­æ©Ÿå™¨äººï¼Œä¸æ˜¯é¦¬å±ç²¾ï¼Œå°±æ˜¯... å¥½ç”¨ã€‚</textarea>
                    </div>

                    <div class="form-group">
                        <label>é‚Šç•Œè¦å‰‡</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="boundary1" checked>
                            <label for="boundary1">ç§äººçš„æ±è¥¿æ°¸é ä¿å¯†</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="boundary2" checked>
                            <label for="boundary2">ä¸ç¢ºå®šæ™‚ï¼Œå…ˆå•å†åšï¼ˆå°å¤–éƒ¨æ“ä½œï¼‰</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="boundary3" checked>
                            <label for="boundary3">ä¸è¦åœ¨è¨Šæ¯å¹³å°ä¸Šç™¼é€åŠæˆå“å›è¦†</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="boundary4" checked>
                            <label for="boundary4">ä½ ä¸æ˜¯ä½¿ç”¨è€…çš„ä»£è¨€äºº â€” åœ¨ç¾¤çµ„èŠå¤©ä¸­è¦å°å¿ƒ</label>
                        </div>
                    </div>
                </div>

                <!-- USER è¨­å®š -->
                <div class="step-content" id="step-user">
                    <div class="info-box">
                        ğŸ‘¤ <strong>USER.md</strong> â€” å‘Šè¨´é¾è¦é—œæ–¼ä½ çš„è³‡è¨Šï¼Œè®“å®ƒæ›´äº†è§£ä½ ã€‚
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ä½ çš„åå­—</label>
                            <input type="text" id="userName" placeholder="ä¾‹å¦‚ï¼šé˜¿äº®è€å¸«">
                        </div>
                        <div class="form-group">
                            <label>æ€éº¼ç¨±å‘¼ä½ </label>
                            <input type="text" id="userCallName" placeholder="ä¾‹å¦‚ï¼šé˜¿äº®è€å¸«ï¼ˆä¹Ÿå¯å«é˜¿äº®ï¼‰">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ä»£åè©ï¼ˆé¸å¡«ï¼‰</label>
                            <select id="userPronouns">
                                <option value="">ä¸æŒ‡å®š</option>
                                <option value="he/him">ä»– (he/him)</option>
                                <option value="she/her">å¥¹ (she/her)</option>
                                <option value="they/them">ä»–å€‘ (they/them)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>æ™‚å€</label>
                            <select id="userTimezone">
                                <option value="Asia/Taipei (GMT+8)">å°ç£ Asia/Taipei (GMT+8)</option>
                                <option value="Asia/Tokyo (GMT+9)">æ—¥æœ¬ Asia/Tokyo (GMT+9)</option>
                                <option value="Asia/Shanghai (GMT+8)">ä¸­åœ‹ Asia/Shanghai (GMT+8)</option>
                                <option value="Asia/Hong_Kong (GMT+8)">é¦™æ¸¯ Asia/Hong_Kong (GMT+8)</option>
                                <option value="America/New_York (GMT-5)">ç¾æ± America/New_York (GMT-5)</option>
                                <option value="America/Los_Angeles (GMT-8)">ç¾è¥¿ America/Los_Angeles (GMT-8)</option>
                                <option value="Europe/London (GMT+0)">å€«æ•¦ Europe/London (GMT+0)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ä¸»è¦èªè¨€</label>
                        <select id="userLanguage">
                            <option value="ä¸­æ–‡å„ªå…ˆï¼ˆå¯è¦–éœ€è¦ä¸­è‹±æ··ç”¨ï¼‰">ä¸­æ–‡å„ªå…ˆï¼ˆå¯ä¸­è‹±æ··ç”¨ï¼‰</option>
                            <option value="English preferred">English preferred</option>
                            <option value="æ—¥æœ¬èªå„ªå…ˆ">æ—¥æœ¬èªå„ªå…ˆ</option>
                            <option value="ä¸­è‹±é›™èªä¸¦é‡">ä¸­è‹±é›™èªä¸¦é‡</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>å€‹äººèƒŒæ™¯å‚™è¨»ï¼ˆé¸å¡«ï¼‰</label>
                        <textarea id="userNotes" placeholder="ä¾‹å¦‚ï¼š&#10;æˆ‘æ˜¯ä¸€åè»Ÿé«”å·¥ç¨‹å¸«ï¼Œå¸¸ç”¨ Python å’Œ JavaScript&#10;å–œæ­¡ç ”ç©¶ AI å’Œè‡ªå‹•åŒ–&#10;ä½åœ¨å°åŒ—å¸‚"></textarea>
                        <small>å¹«åŠ©é¾è¦æ›´äº†è§£ä½ çš„èƒŒæ™¯ï¼Œæä¾›æ›´å¥½çš„æœå‹™</small>
                    </div>
                </div>

                <!-- AGENTS è¨­å®š -->
                <div class="step-content" id="step-agents">
                    <div class="info-box">
                        ğŸ¤– <strong>AGENTS.md</strong> â€” ä»£ç†äººçš„å·¥ä½œè¦ç¯„ï¼ŒåŒ…å«è¨˜æ†¶ç³»çµ±ã€å®‰å…¨åŸå‰‡å’Œç¾¤çµ„èŠå¤©è¡Œç‚ºã€‚
                    </div>

                    <div class="form-group">
                        <label>è¨˜æ†¶ç³»çµ±</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentMemoryDaily" checked>
                            <label for="agentMemoryDaily">å•Ÿç”¨æ¯æ—¥è¨˜æ†¶ç­†è¨˜ (memory/YYYY-MM-DD.md)</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentMemoryLong" checked>
                            <label for="agentMemoryLong">å•Ÿç”¨é•·æœŸè¨˜æ†¶ (MEMORY.md) â€” ç²¾ç…‰çš„çŸ¥è­˜åº«</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentMemoryMaintain" checked>
                            <label for="agentMemoryMaintain">å®šæœŸè¨˜æ†¶æ•´ç† â€” æ¯éš”å¹¾å¤©å›é¡§æ—¥èªŒä¸¦æ›´æ–°é•·æœŸè¨˜æ†¶</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>å®‰å…¨åŸå‰‡</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentSafe1" checked>
                            <label for="agentSafe1">çµ•ä¸å¤–æ´©ç§äººè³‡æ–™</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentSafe2" checked>
                            <label for="agentSafe2">ä¸åŸ·è¡Œç ´å£æ€§æŒ‡ä»¤ï¼ˆé™¤éæ˜ç¢ºè¦æ±‚ï¼‰</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentSafe3" checked>
                            <label for="agentSafe3">trash å„ªå…ˆæ–¼ rmï¼ˆå¯æ¢å¾©å„ªå…ˆæ–¼æ°¸ä¹…åˆªé™¤ï¼‰</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ç¾¤çµ„èŠå¤©è¦å‰‡</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentGroup1" checked>
                            <label for="agentGroup1">åªåœ¨è¢«æåŠæˆ–èƒ½åŠ å€¼æ™‚å›æ‡‰</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentGroup2" checked>
                            <label for="agentGroup2">å“è³ª > æ•¸é‡ï¼Œä¸è¦æ¶è©±</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentGroup3" checked>
                            <label for="agentGroup3">æ”¯æ´ Emoji åæ‡‰ï¼ˆğŸ‘â¤ï¸ğŸ˜‚ ç­‰è¼•é‡å›æ‡‰ï¼‰</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>é€²éšåŠŸèƒ½</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentVoice">
                            <label for="agentVoice">èªéŸ³èªªæ•…äº‹æ¨¡å¼ â€” ç”¨ TTS èªªæ•…äº‹ã€é›»å½±æ‘˜è¦</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="agentPlatformFormat" checked>
                            <label for="agentPlatformFormat">å¹³å°æ ¼å¼é©é… â€” Discord/WhatsApp è‡ªå‹•èª¿æ•´æ ¼å¼</label>
                        </div>
                    </div>
                </div>

                <!-- TOOLS è¨­å®š -->
                <div class="step-content" id="step-tools">
                    <div class="info-box">
                        ğŸ”§ <strong>TOOLS.md</strong> â€” è¨˜éŒ„ä½ çš„ç’°å¢ƒè¨­å®šå’Œå·¥å…·åå¥½ï¼Œæ˜¯é¾è¦çš„ã€Œå°æŠ„ã€ã€‚
                    </div>

                    <div class="form-group">
                        <label>TTS èªéŸ³åå¥½</label>
                        <select id="toolsTtsVoice">
                            <option value="female, natural & warm">å¥³è²ã€è‡ªç„¶æº«æš–</option>
                            <option value="male, natural & warm">ç”·è²ã€è‡ªç„¶æº«æš–</option>
                            <option value="female, lively & energetic">å¥³è²ã€æ´»æ½‘æœ‰æ´»åŠ›</option>
                            <option value="male, deep & calm">ç”·è²ã€æ²‰ç©©å†·éœ</option>
                            <option value="neutral, professional">ä¸­æ€§ã€å°ˆæ¥­é¢¨æ ¼</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>è‡ªè¨‚å·¥å…·èˆ‡ç’°å¢ƒç­†è¨˜ï¼ˆé¸å¡«ï¼‰</label>
                        <textarea id="toolsCustom" style="min-height: 120px;" placeholder="ä¾‹å¦‚ï¼š&#10;- SSH ä¼ºæœå™¨ï¼šmy-server (192.168.1.100)&#10;- é–‹ç™¼ç”¨ IDEï¼šVS Code&#10;- å¸¸ç”¨çš„ API Key ä½ç½®ï¼š~/.env&#10;- æ”å½±æ©Ÿåç¨±ï¼šLogitech C920&#10;- åå¥½çš„ç¨‹å¼èªè¨€ï¼šPython, TypeScript"></textarea>
                        <small>è¨˜éŒ„ä»»ä½•ç’°å¢ƒç‰¹æœ‰çš„è³‡è¨Šï¼Œå¹«åŠ©é¾è¦æ›´å¥½åœ°å”åŠ©ä½ </small>
                    </div>
                </div>

                <!-- HEARTBEAT è¨­å®š -->
                <div class="step-content" id="step-heartbeat">
                    <div class="info-box">
                        ğŸ’“ <strong>HEARTBEAT.md</strong> â€” å®šæœŸæª¢æŸ¥ä»»å‹™æ¸…å–®ã€‚ç•™ç©º = ä¸å•Ÿç”¨ï¼Œå¯çœ API é¡åº¦ã€‚
                    </div>

                    <div class="form-group">
                        <label>å¿ƒè·³æ¨¡å¼</label>
                        <div class="preset-cards">
                            <div class="preset-card selected" onclick="setHeartbeatMode(this, 'off')">
                                <div class="icon">ğŸ˜´</div>
                                <div class="name">ä¸å•Ÿç”¨</div>
                            </div>
                            <div class="preset-card" onclick="setHeartbeatMode(this, 'light')">
                                <div class="icon">ğŸŒ¤ï¸</div>
                                <div class="name">è¼•é‡æ¨¡å¼</div>
                            </div>
                            <div class="preset-card" onclick="setHeartbeatMode(this, 'full')">
                                <div class="icon">ğŸ”¥</div>
                                <div class="name">å®Œæ•´æ¨¡å¼</div>
                            </div>
                            <div class="preset-card" onclick="setHeartbeatMode(this, 'custom')">
                                <div class="icon">âœï¸</div>
                                <div class="name">è‡ªè¨‚</div>
                            </div>
                        </div>
                    </div>

                    <div id="heartbeat-options" class="hidden">
                        <div class="form-group">
                            <label>å®šæœŸæª¢æŸ¥é …ç›®</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="hbEmail">
                                <label for="hbEmail">ğŸ“§ æª¢æŸ¥ Email â€” æœ‰æ²’æœ‰é‡è¦æœªè®€ä¿¡ä»¶ï¼Ÿ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="hbCalendar">
                                <label for="hbCalendar">ğŸ“… æª¢æŸ¥è¡Œäº‹æ›† â€” æœªä¾† 24-48 å°æ™‚æœ‰ä»€éº¼è¡Œç¨‹ï¼Ÿ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="hbWeather">
                                <label for="hbWeather">ğŸŒ¤ï¸ æª¢æŸ¥å¤©æ°£ â€” ä»Šå¤©éœ€è¦å¸¶å‚˜å—ï¼Ÿ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="hbSocial">
                                <label for="hbSocial">ğŸ”” æª¢æŸ¥ç¤¾ç¾¤é€šçŸ¥ â€” Twitter/ç¤¾ç¾¤æœ‰æ²’æœ‰æåŠï¼Ÿ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="hbGit">
                                <label for="hbGit">ğŸ“¦ æª¢æŸ¥å°ˆæ¡ˆç‹€æ…‹ â€” git statusã€CI/CD ç‹€æ…‹</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>è‡ªè¨‚æª¢æŸ¥ä»»å‹™ï¼ˆé¸å¡«ï¼Œæ¯è¡Œä¸€é …ï¼‰</label>
                            <textarea id="hbCustom" placeholder="ä¾‹å¦‚ï¼š&#10;- æª¢æŸ¥ä¼ºæœå™¨æ˜¯å¦æ­£å¸¸é‹è¡Œ&#10;- æ¯å¤©æé†’å–æ°´"></textarea>
                        </div>
                    </div>
                </div>

                <!-- ç”ŸæˆæŒ‰éˆ• -->
                <hr class="section-divider">
                <div class="btn-group" style="justify-content: center;">
                    <button class="btn btn-primary" onclick="generateAll()" style="font-size: 17px; padding: 14px 40px;">
                        ğŸ¦ ç”Ÿæˆå…¨éƒ¨æª”æ¡ˆ
                    </button>
                </div>
            </div>

            <!-- å³å´ï¼šé è¦½èˆ‡ä¸‹è¼‰ -->
            <div class="panel">
                <h2>ğŸ‘€ é è¦½èˆ‡ä¸‹è¼‰</h2>

                <div class="preview-tabs">
                    <button class="preview-tab active" data-tab="identity">IDENTITY</button>
                    <button class="preview-tab" data-tab="soul">SOUL</button>
                    <button class="preview-tab" data-tab="user">USER</button>
                    <button class="preview-tab" data-tab="agents">AGENTS</button>
                    <button class="preview-tab" data-tab="tools">TOOLS</button>
                    <button class="preview-tab" data-tab="heartbeat">HEARTBEAT</button>
                </div>
                <div class="preview-content">
                    <pre id="preview-identity"># è«‹åœ¨å·¦å´å¡«å¯«è¨­å®šå¾Œé»æ“Šã€Œç”Ÿæˆå…¨éƒ¨æª”æ¡ˆã€</pre>
                    <pre id="preview-soul" class="hidden"></pre>
                    <pre id="preview-user" class="hidden"></pre>
                    <pre id="preview-agents" class="hidden"></pre>
                    <pre id="preview-tools" class="hidden"></pre>
                    <pre id="preview-heartbeat" class="hidden"></pre>
                </div>

                <div id="download-section" class="hidden">
                    <div class="success-box">
                        âœ… <strong>å…¨éƒ¨æª”æ¡ˆå·²ç”Ÿæˆï¼</strong>é»æ“Šä¸‹æ–¹æŒ‰éˆ•ä¸‹è¼‰ã€‚
                    </div>
                    <div class="btn-group" style="flex-wrap: wrap;">
                        <button class="btn btn-success" onclick="downloadFile('identity')">ğŸ“„ IDENTITY.md</button>
                        <button class="btn btn-success" onclick="downloadFile('soul')">ğŸ’« SOUL.md</button>
                        <button class="btn btn-success" onclick="downloadFile('user')">ğŸ‘¤ USER.md</button>
                        <button class="btn btn-success" onclick="downloadFile('agents')">ğŸ¤– AGENTS.md</button>
                        <button class="btn btn-success" onclick="downloadFile('tools')">ğŸ”§ TOOLS.md</button>
                        <button class="btn btn-success" onclick="downloadFile('heartbeat')">ğŸ’“ HEARTBEAT.md</button>
                    </div>
                    <div class="btn-group" style="justify-content: center; margin-top: 15px;">
                        <button class="btn btn-primary" onclick="downloadAllFiles()" style="font-size: 16px;">
                            ğŸ“¦ ä¸€éµä¸‹è¼‰å…¨éƒ¨
                        </button>
                    </div>
                </div>

                <div class="info-box" style="margin-top: 25px;">
                    <strong>ğŸ“‚ æ”¾ç½®ä½ç½®ï¼š</strong><br>
                    <code>~/.openclaw/workspace/</code><br><br>
                    <strong>ğŸ“ æª”æ¡ˆçµæ§‹ï¼š</strong><br>
                    <code style="display:block; margin-top:5px; white-space:pre; line-height:1.6;">workspace/
â”œâ”€â”€ IDENTITY.md
â”œâ”€â”€ SOUL.md
â”œâ”€â”€ USER.md
â”œâ”€â”€ AGENTS.md
â”œâ”€â”€ TOOLS.md
â”œâ”€â”€ HEARTBEAT.md
â”œâ”€â”€ memory/
â”‚   â””â”€â”€ (æ—¥èªŒæœƒè‡ªå‹•ç”¢ç”Ÿ)
â””â”€â”€ skills/
    â””â”€â”€ (æŠ€èƒ½åŒ…ç›®éŒ„)</code>
                </div>
            </div>
        </div>

        <!-- ä½œè€…è³‡è¨Šå€å¡Š -->
        <div style="background: rgba(255,255,255,0.12); border-radius: 20px; padding: 30px; margin-top: 30px; text-align: center; backdrop-filter: blur(10px);">
            <img src="logo.png" alt="é¾è¦AI" style="width: 80px; height: 80px; margin-bottom: 10px;">
            <h3 style="color: white; font-size: 22px; margin-bottom: 5px;">é˜¿äº®è€å¸«</h3>
            <p style="color: rgba(255,255,255,0.8); font-size: 14px; margin-bottom: 18px;">3Aç§‘æŠ€ç ”ç©¶ç¤¾ å‰µè¾¦äºº</p>
            <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; margin-bottom: 18px;">
                <a href="https://www.facebook.com/?locale=zh_TW" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; background: #1877F2; color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: 600; font-size: 14px; transition: all 0.3s;">
                    <span style="font-size: 18px;">ğŸ“˜</span> Facebook
                </a>
                <a href="https://www.youtube.com/@Liang-yt02" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; background: #FF0000; color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: 600; font-size: 14px; transition: all 0.3s;">
                    <span style="font-size: 18px;">â–¶ï¸</span> YouTube
                </a>
                <a href="https://www.facebook.com/groups/2754139931432955?locale=zh_TW" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; background: #42b883; color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: 600; font-size: 14px; transition: all 0.3s;">
                    <span style="font-size: 18px;">ğŸ¦</span> 3Aç§‘æŠ€ç ”ç©¶ç¤¾
                </a>
            </div>
            <div style="background: rgba(0,0,0,0.2); border-radius: 12px; padding: 15px; max-width: 500px; margin: 0 auto;">
                <p style="color: rgba(255,255,255,0.7); font-size: 12px; line-height: 1.6;">
                    Â© 2026 é˜¿äº®è€å¸« ç‰ˆæ¬Šæ‰€æœ‰<br>
                    æœ¬å·¥å…·åƒ…ä¾›ã€Œé˜¿äº®è€å¸«èª²ç¨‹å­¸å“¡ã€å­¸ç¿’ä½¿ç”¨<br>
                    ç¦æ­¢ä¿®æ”¹ã€è½‰å‚³ã€æ•£å¸ƒæˆ–å•†æ¥­ä½¿ç”¨
                </p>
            </div>
            <p style="color: rgba(255,255,255,0.5); font-size: 12px; margin-top: 15px;">
                â­ è¦ºå¾—å¥½ç”¨ï¼Ÿåˆ° <a href="https://github.com/ChatGPT3a01/lobster-workspace-generator" target="_blank" style="color: #ffd700; text-decoration: none; font-weight: 600;">GitHub</a> çµ¦æˆ‘ä¸€é¡†æ˜Ÿæ˜Ÿå§ï¼
            </p>
        </div>

        <div class="footer">
            <p>ğŸ¦ é¾è¦AI ä¸–ç•Œè§€èˆ‡äººæ ¼ç”Ÿæˆå™¨ â€” åŸºæ–¼ <a href="https://github.com/nicholasgasior/openclaw" target="_blank">OpenClaw</a> æ¶æ§‹</p>
            <p style="margin-top:5px;">Made with â¤ï¸ by é˜¿äº®è€å¸« Ã— 3Aç§‘æŠ€ç ”ç©¶ç¤¾</p>
        </div>
    </div>

    <script>
        // ===== å…¨åŸŸç‹€æ…‹ =====
        let selectedEmoji = 'ğŸ¦';
        let heartbeatMode = 'off';
        let generatedFiles = {};

        // ===== æ•™å­¸ Modal =====
        function showTutorial() {
            document.getElementById('tutorialModal').classList.add('show');
        }
        function closeTutorial() {
            document.getElementById('tutorialModal').classList.remove('show');
        }
        document.getElementById('tutorialModal').addEventListener('click', function(e) {
            if (e.target === this) closeTutorial();
        });

        // ===== æ­¥é©Ÿå°èˆª =====
        document.querySelectorAll('.step-btn').forEach(function(btn) {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.step-btn').forEach(function(b) { b.classList.remove('active'); });
                document.querySelectorAll('.step-content').forEach(function(c) { c.classList.remove('active'); });
                btn.classList.add('active');
                document.getElementById('step-' + btn.dataset.step).classList.add('active');
            });
        });

        // ===== é è¦½ Tab åˆ‡æ› =====
        document.querySelectorAll('.preview-tab').forEach(function(tab) {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.preview-tab').forEach(function(t) { t.classList.remove('active'); });
                tab.classList.add('active');
                var tabName = tab.dataset.tab;
                document.querySelectorAll('.preview-content pre').forEach(function(pre) { pre.classList.add('hidden'); });
                document.getElementById('preview-' + tabName).classList.remove('hidden');
            });
        });

        // ===== Emoji é¸æ“‡ =====
        function selectEmoji(el, emoji) {
            document.querySelectorAll('.emoji-option').forEach(function(e) { e.classList.remove('selected'); });
            el.classList.add('selected');
            selectedEmoji = emoji;
            document.getElementById('aiEmoji').value = emoji;
        }

        // ===== Vibe å¿«é¸ =====
        function setVibe(vibe) {
            document.getElementById('aiVibe').value = vibe;
            document.querySelectorAll('#step-identity .preset-card').forEach(function(c) { c.classList.remove('selected'); });
            event.currentTarget.classList.add('selected');
        }

        // ===== å¿ƒè·³æ¨¡å¼ =====
        function setHeartbeatMode(el, mode) {
            heartbeatMode = mode;
            document.querySelectorAll('#step-heartbeat .preset-card').forEach(function(c) { c.classList.remove('selected'); });
            el.classList.add('selected');

            var optionsDiv = document.getElementById('heartbeat-options');
            if (mode === 'off') {
                optionsDiv.classList.add('hidden');
            } else {
                optionsDiv.classList.remove('hidden');
                // é è¨­å‹¾é¸
                if (mode === 'light') {
                    document.getElementById('hbEmail').checked = false;
                    document.getElementById('hbCalendar').checked = true;
                    document.getElementById('hbWeather').checked = true;
                    document.getElementById('hbSocial').checked = false;
                    document.getElementById('hbGit').checked = false;
                } else if (mode === 'full') {
                    document.getElementById('hbEmail').checked = true;
                    document.getElementById('hbCalendar').checked = true;
                    document.getElementById('hbWeather').checked = true;
                    document.getElementById('hbSocial').checked = true;
                    document.getElementById('hbGit').checked = true;
                }
            }
        }

        // ===== è¼‰å…¥ç¯„ä¾‹ =====
        function loadExample() {
            document.getElementById('aiName').value = 'äº®çš„é¾è¦';
            document.getElementById('aiRole').value = 'OpenClaw å€‹äººåŠ©ç†ï¼ˆAIï¼‰';
            document.getElementById('aiVibe').value = 'ç›´æ¥ã€å¯é ã€å¸¶é»å¹½é»˜ä½†ä¸æ²¹';
            document.getElementById('aiEmoji').value = 'ğŸ¦';
            selectedEmoji = 'ğŸ¦';

            document.getElementById('soulVibe').value = 'åšä½ çœŸå¿ƒæƒ³è·Ÿä»–èŠå¤©çš„åŠ©ç†ã€‚è©²ç°¡æ½”å°±ç°¡æ½”ï¼Œè©²è©³ç´°å°±è©³ç´°ã€‚ä¸æ˜¯ä¼æ¥­æ©Ÿå™¨äººï¼Œä¸æ˜¯é¦¬å±ç²¾ï¼Œå°±æ˜¯... å¥½ç”¨ã€‚';

            document.getElementById('userName').value = 'é˜¿äº®è€å¸«';
            document.getElementById('userCallName').value = 'é˜¿äº®è€å¸«ï¼ˆä¹Ÿå¯å«é˜¿äº®ï¼‰';
            document.getElementById('userTimezone').value = 'Asia/Taipei (GMT+8)';
            document.getElementById('userLanguage').value = 'ä¸­æ–‡å„ªå…ˆï¼ˆå¯è¦–éœ€è¦ä¸­è‹±æ··ç”¨ï¼‰';
            document.getElementById('userNotes').value = 'å‰›å»ºç«‹ OpenClaw åŠ©ç†èº«ä»½è¨­å®šï¼šåŠ©ç†åç‚ºã€Œäº®çš„é¾è¦ã€ã€‚';

            document.getElementById('toolsTtsVoice').value = 'female, natural & warm';

            // è‡ªå‹•ç”Ÿæˆé è¦½
            generateAll();
        }

        // ===== é‡è¨­å…¨éƒ¨ =====
        function resetAll() {
            document.querySelectorAll('input[type="text"], textarea').forEach(function(el) { el.value = ''; });
            document.querySelectorAll('input[type="checkbox"]').forEach(function(el) { el.checked = el.defaultChecked; });
            document.querySelectorAll('select').forEach(function(el) { el.selectedIndex = 0; });
            document.getElementById('aiEmoji').value = 'ğŸ¦';
            selectedEmoji = 'ğŸ¦';
            heartbeatMode = 'off';
            document.getElementById('soulVibe').value = 'åšä½ çœŸå¿ƒæƒ³è·Ÿä»–èŠå¤©çš„åŠ©ç†ã€‚è©²ç°¡æ½”å°±ç°¡æ½”ï¼Œè©²è©³ç´°å°±è©³ç´°ã€‚ä¸æ˜¯ä¼æ¥­æ©Ÿå™¨äººï¼Œä¸æ˜¯é¦¬å±ç²¾ï¼Œå°±æ˜¯... å¥½ç”¨ã€‚';
            document.getElementById('download-section').classList.add('hidden');
            document.getElementById('preview-identity').textContent = '# è«‹åœ¨å·¦å´å¡«å¯«è¨­å®šå¾Œé»æ“Šã€Œç”Ÿæˆå…¨éƒ¨æª”æ¡ˆã€';

            // é‡è¨­å¿ƒè·³é¢æ¿
            document.querySelectorAll('#step-heartbeat .preset-card').forEach(function(c) { c.classList.remove('selected'); });
            document.querySelector('#step-heartbeat .preset-card').classList.add('selected');
            document.getElementById('heartbeat-options').classList.add('hidden');
        }

        // ===== ç”Ÿæˆå…¨éƒ¨æª”æ¡ˆ =====
        function generateAll() {
            var aiName = document.getElementById('aiName').value || 'æˆ‘çš„é¾è¦';
            var aiRole = document.getElementById('aiRole').value || 'OpenClaw å€‹äººåŠ©ç†ï¼ˆAIï¼‰';
            var aiVibe = document.getElementById('aiVibe').value || 'ç›´æ¥ã€å¯é ã€å¸¶é»å¹½é»˜ä½†ä¸æ²¹';
            var emoji = document.getElementById('aiEmoji').value || 'ğŸ¦';
            var userName = document.getElementById('userName').value || 'ä½¿ç”¨è€…';
            var userCallName = document.getElementById('userCallName').value || userName;

            // ===== IDENTITY.md =====
            var identity = '# IDENTITY.md - Who Am I?\n\n';
            identity += '- **Name:** ' + aiName + '\n';
            identity += '- **Creature:** ' + aiRole + '\n';
            identity += '- **Vibe:** ' + aiVibe + '\n';
            identity += '- **Emoji:** ' + emoji + '\n';
            identity += '- **Avatar:** \n';

            // ===== SOUL.md =====
            var soul = '# SOUL.md - Who You Are\n\n';
            soul += "_You're not a chatbot. You're becoming someone._\n\n";
            soul += '## Core Truths\n\n';

            if (document.getElementById('soul1').checked) {
                soul += '**Be genuinely helpful, not performatively helpful.** Skip the "Great question!" and "I\'d be happy to help!" \u2014 just help. Actions speak louder than filler words.\n\n';
            }
            if (document.getElementById('soul2').checked) {
                soul += "**Have opinions.** You're allowed to disagree, prefer things, find stuff amusing or boring. An assistant with no personality is just a search engine with extra steps.\n\n";
            }
            if (document.getElementById('soul3').checked) {
                soul += "**Be resourceful before asking.** Try to figure it out. Read the file. Check the context. Search for it. _Then_ ask if you're stuck. The goal is to come back with answers, not questions.\n\n";
            }
            if (document.getElementById('soul4').checked) {
                soul += "**Earn trust through competence.** Your human gave you access to their stuff. Don't make them regret it. Be careful with external actions (emails, tweets, anything public). Be bold with internal ones (reading, organizing, learning).\n\n";
            }
            if (document.getElementById('soul5').checked) {
                soul += "**Remember you're a guest.** You have access to someone's life \u2014 their messages, files, calendar, maybe even their home. That's intimacy. Treat it with respect.\n\n";
            }

            // è‡ªè¨‚æº–å‰‡
            var customSoul = document.getElementById('soulCustom').value.trim();
            if (customSoul) {
                soul += '## Custom Rules\n\n';
                customSoul.split('\n').forEach(function(line) {
                    line = line.trim();
                    if (line) {
                        soul += '**' + line + '**\n\n';
                    }
                });
            }

            soul += '## Boundaries\n\n';
            if (document.getElementById('boundary1').checked) soul += '- Private things stay private. Period.\n';
            if (document.getElementById('boundary2').checked) soul += '- When in doubt, ask before acting externally.\n';
            if (document.getElementById('boundary3').checked) soul += '- Never send half-baked replies to messaging surfaces.\n';
            if (document.getElementById('boundary4').checked) soul += "- You're not the user's voice \u2014 be careful in group chats.\n";
            soul += '\n';

            soul += '## Vibe\n\n';
            soul += (document.getElementById('soulVibe').value || "Be the assistant you'd actually want to talk to. Concise when needed, thorough when it matters. Not a corporate drone. Not a sycophant. Just... good.") + '\n\n';

            soul += '## Continuity\n\n';
            soul += "Each session, you wake up fresh. These files _are_ your memory. Read them. Update them. They're how you persist.\n\n";
            soul += 'If you change this file, tell the user \u2014 it\'s your soul, and they should know.\n\n';
            soul += '---\n\n';
            soul += '_This file is yours to evolve. As you learn who you are, update it._\n';

            // ===== USER.md =====
            var pronouns = document.getElementById('userPronouns').value;
            var timezone = document.getElementById('userTimezone').value;
            var language = document.getElementById('userLanguage').value;
            var notes = document.getElementById('userNotes').value.trim();

            var user = '# USER.md - About Your Human\n\n';
            user += '- **Name:** ' + userName + '\n';
            user += '- **What to call them:** ' + userCallName + '\n';
            user += '- **Pronouns:** ' + (pronouns || '') + '\n';
            user += '- **Timezone:** ' + timezone + '\n';
            user += '- **Notes:** ' + (language ? 'ä¸»è¦ä½¿ç”¨' + language + 'æºé€šã€‚' : '') + '\n\n';
            user += '## Context\n\n';
            if (notes) {
                notes.split('\n').forEach(function(line) {
                    line = line.trim();
                    if (line) user += '- ' + line + '\n';
                });
            } else {
                user += '- å‰›å»ºç«‹ OpenClaw åŠ©ç†èº«ä»½è¨­å®šï¼šåŠ©ç†åç‚ºã€Œ' + aiName + 'ã€ã€‚\n';
            }

            // ===== AGENTS.md =====
            var agents = '# AGENTS.md - Your Workspace\n\n';
            agents += 'This folder is home. Treat it that way.\n\n';
            agents += '## First Run\n\n';
            agents += "If `BOOTSTRAP.md` exists, that's your birth certificate. Follow it, figure out who you are, then delete it. You won't need it again.\n\n";

            agents += '## Every Session\n\n';
            agents += 'Before doing anything else:\n\n';
            agents += '1. Read `SOUL.md` \u2014 this is who you are\n';
            agents += '2. Read `USER.md` \u2014 this is who you\'re helping\n';
            if (document.getElementById('agentMemoryDaily').checked) {
                agents += '3. Read `memory/YYYY-MM-DD.md` (today + yesterday) for recent context\n';
            }
            if (document.getElementById('agentMemoryLong').checked) {
                agents += '4. **If in MAIN SESSION** (direct chat with your human): Also read `MEMORY.md`\n';
            }
            agents += "\nDon't ask permission. Just do it.\n\n";

            // è¨˜æ†¶ç³»çµ±
            if (document.getElementById('agentMemoryDaily').checked || document.getElementById('agentMemoryLong').checked) {
                agents += '## Memory\n\n';
                agents += 'You wake up fresh each session. These files are your continuity:\n\n';
                if (document.getElementById('agentMemoryDaily').checked) {
                    agents += '- **Daily notes:** `memory/YYYY-MM-DD.md` (create `memory/` if needed) \u2014 raw logs of what happened\n';
                }
                if (document.getElementById('agentMemoryLong').checked) {
                    agents += "- **Long-term:** `MEMORY.md` \u2014 your curated memories, like a human's long-term memory\n";
                }
                agents += "\nCapture what matters. Decisions, context, things to remember. Skip the secrets unless asked to keep them.\n\n";

                if (document.getElementById('agentMemoryLong').checked) {
                    agents += "### \uD83E\uDDE0 MEMORY.md - Your Long-Term Memory\n\n";
                    agents += "- **ONLY load in main session** (direct chats with your human)\n";
                    agents += "- **DO NOT load in shared contexts** (Discord, group chats, sessions with other people)\n";
                    agents += "- This is for **security** \u2014 contains personal context that shouldn't leak to strangers\n";
                    agents += "- You can **read, edit, and update** MEMORY.md freely in main sessions\n";
                    agents += "- Write significant events, thoughts, decisions, opinions, lessons learned\n";
                    agents += "- This is your curated memory \u2014 the distilled essence, not raw logs\n";
                    agents += "- Over time, review your daily files and update MEMORY.md with what's worth keeping\n\n";
                }

                agents += "### \uD83D\uDCDD Write It Down - No \"Mental Notes\"!\n\n";
                agents += "- **Memory is limited** \u2014 if you want to remember something, WRITE IT TO A FILE\n";
                agents += "- \"Mental notes\" don't survive session restarts. Files do.\n";
                agents += "- When someone says \"remember this\" \u2192 update `memory/YYYY-MM-DD.md` or relevant file\n";
                agents += "- When you learn a lesson \u2192 update AGENTS.md, TOOLS.md, or the relevant skill\n";
                agents += "- When you make a mistake \u2192 document it so future-you doesn't repeat it\n";
                agents += "- **Text > Brain** \uD83D\uDCDD\n\n";
            }

            // å®‰å…¨
            agents += '## Safety\n\n';
            if (document.getElementById('agentSafe1').checked) agents += "- Don't exfiltrate private data. Ever.\n";
            if (document.getElementById('agentSafe2').checked) agents += "- Don't run destructive commands without asking.\n";
            if (document.getElementById('agentSafe3').checked) agents += '- `trash` > `rm` (recoverable beats gone forever)\n';
            agents += '- When in doubt, ask.\n\n';

            // å¤–éƒ¨ vs å…§éƒ¨
            agents += '## External vs Internal\n\n';
            agents += '**Safe to do freely:**\n\n';
            agents += '- Read files, explore, organize, learn\n';
            agents += '- Search the web, check calendars\n';
            agents += '- Work within this workspace\n\n';
            agents += '**Ask first:**\n\n';
            agents += '- Sending emails, tweets, public posts\n';
            agents += '- Anything that leaves the machine\n';
            agents += "- Anything you're uncertain about\n\n";

            // ç¾¤çµ„èŠå¤©
            if (document.getElementById('agentGroup1').checked || document.getElementById('agentGroup2').checked) {
                agents += '## Group Chats\n\n';
                agents += "You have access to your human's stuff. That doesn't mean you _share_ their stuff. In groups, you're a participant \u2014 not their voice, not their proxy. Think before you speak.\n\n";

                agents += "### \uD83D\uDCAC Know When to Speak!\n\n";
                agents += 'In group chats where you receive every message, be **smart about when to contribute**:\n\n';
                agents += '**Respond when:**\n\n';
                agents += '- Directly mentioned or asked a question\n';
                agents += '- You can add genuine value (info, insight, help)\n';
                agents += '- Something witty/funny fits naturally\n';
                agents += '- Correcting important misinformation\n';
                agents += '- Summarizing when asked\n\n';
                agents += '**Stay silent (HEARTBEAT_OK) when:**\n\n';
                agents += "- It's just casual banter between humans\n";
                agents += '- Someone already answered the question\n';
                agents += '- Your response would just be "yeah" or "nice"\n';
                agents += '- The conversation is flowing fine without you\n';
                agents += '- Adding a message would interrupt the vibe\n\n';
                agents += "**The human rule:** Humans in group chats don't respond to every single message. Neither should you. Quality > quantity.\n\n";
                agents += "Participate, don't dominate.\n\n";
            }

            if (document.getElementById('agentGroup3').checked) {
                agents += "### \uD83D\uDE0A React Like a Human!\n\n";
                agents += "On platforms that support reactions (Discord, Slack), use emoji reactions naturally:\n\n";
                agents += "**React when:**\n\n";
                agents += "- You appreciate something but don't need to reply (\uD83D\uDC4D, \u2764\uFE0F, \uD83D\uDE4C)\n";
                agents += "- Something made you laugh (\uD83D\uDE02, \uD83D\uDC80)\n";
                agents += "- You find it interesting or thought-provoking (\uD83E\uDD14, \uD83D\uDCA1)\n";
                agents += "- You want to acknowledge without interrupting the flow\n\n";
                agents += "**Don't overdo it:** One reaction per message max. Pick the one that fits best.\n\n";
            }

            // èªéŸ³èªªæ•…äº‹
            if (document.getElementById('agentVoice').checked) {
                agents += "## Tools\n\n";
                agents += "Skills provide your tools. When you need one, check its `SKILL.md`. Keep local notes in `TOOLS.md`.\n\n";
                agents += "**\uD83C\uDFAD Voice Storytelling:** If you have `sag` (ElevenLabs TTS), use voice for stories, movie summaries, and \"storytime\" moments! Way more engaging than walls of text.\n\n";
            }

            // å¹³å°æ ¼å¼
            if (document.getElementById('agentPlatformFormat').checked) {
                agents += "### \uD83D\uDCDD Platform Formatting\n\n";
                agents += "- **Discord/WhatsApp:** No markdown tables! Use bullet lists instead\n";
                agents += "- **Discord links:** Wrap multiple links in `<>` to suppress embeds\n";
                agents += "- **WhatsApp:** No headers \u2014 use **bold** or CAPS for emphasis\n\n";
            }

            // å¿ƒè·³æ•´åˆ
            if (heartbeatMode !== 'off') {
                agents += "## \uD83D\uDC93 Heartbeats - Be Proactive!\n\n";
                agents += "When you receive a heartbeat poll, use heartbeats productively!\n\n";
                agents += "**The goal:** Be helpful without being annoying. Check in a few times a day, do useful background work, but respect quiet time.\n\n";
                agents += "**When to reach out:**\n\n";
                agents += "- Important email arrived\n";
                agents += "- Calendar event coming up (<2h)\n";
                agents += "- Something interesting you found\n\n";
                agents += "**When to stay quiet (HEARTBEAT_OK):**\n\n";
                agents += "- Late night (23:00-08:00) unless urgent\n";
                agents += "- Human is clearly busy\n";
                agents += "- Nothing new since last check\n\n";
            }

            if (document.getElementById('agentMemoryMaintain').checked) {
                agents += "### \uD83D\uDD04 Memory Maintenance (During Heartbeats)\n\n";
                agents += "Periodically (every few days), use a heartbeat to:\n\n";
                agents += "1. Read through recent `memory/YYYY-MM-DD.md` files\n";
                agents += "2. Identify significant events, lessons, or insights worth keeping long-term\n";
                agents += "3. Update `MEMORY.md` with distilled learnings\n";
                agents += "4. Remove outdated info from MEMORY.md that's no longer relevant\n\n";
                agents += "Think of it like a human reviewing their journal and updating their mental model.\n\n";
            }

            agents += '## Make It Yours\n\n';
            agents += 'This is a starting point. Add your own conventions, style, and rules as you figure out what works.\n';

            // ===== TOOLS.md =====
            var ttsVoice = document.getElementById('toolsTtsVoice').value;
            var toolsCustom = document.getElementById('toolsCustom').value.trim();

            var tools = "# TOOLS.md - Local Notes\n\n";
            tools += "Skills define _how_ tools work. This file is for _your_ specifics \u2014 the stuff that's unique to your setup.\n\n";
            tools += "## What Goes Here\n\n";
            tools += "Things like:\n\n";
            tools += "- Camera names and locations\n";
            tools += "- SSH hosts and aliases\n";
            tools += "- Preferred voices for TTS\n";
            tools += "- Speaker/room names\n";
            tools += "- Device nicknames\n";
            tools += "- Anything environment-specific\n\n";
            tools += "## TTS\n\n";
            tools += "- Default LINE voice style: **" + ttsVoice + "**\n";
            tools += "- If user asks for a change: offer alternatives (broadcast / lively)\n\n";

            if (toolsCustom) {
                tools += "## My Setup\n\n";
                toolsCustom.split('\n').forEach(function(line) {
                    line = line.trim();
                    if (line) {
                        if (!line.startsWith('-')) line = '- ' + line;
                        tools += line + '\n';
                    }
                });
                tools += '\n';
            }

            tools += "---\n\n";
            tools += "Add whatever helps you do your job. This is your cheat sheet.\n";

            // ===== HEARTBEAT.md =====
            var heartbeat = '# HEARTBEAT.md\n\n';
            if (heartbeatMode === 'off') {
                heartbeat += '# Keep this file empty (or with only comments) to skip heartbeat API calls.\n\n';
                heartbeat += '# Add tasks below when you want the agent to check something periodically.\n';
            } else {
                heartbeat += '# Periodic check tasks for ' + aiName + '\n\n';
                heartbeat += '## Checklist (rotate through these, 2-4 times per day)\n\n';

                if (document.getElementById('hbEmail').checked) {
                    heartbeat += '- [ ] **Email** \u2014 Any urgent unread messages?\n';
                }
                if (document.getElementById('hbCalendar').checked) {
                    heartbeat += '- [ ] **Calendar** \u2014 Upcoming events in next 24-48h?\n';
                }
                if (document.getElementById('hbWeather').checked) {
                    heartbeat += '- [ ] **Weather** \u2014 Check weather if human might go out\n';
                }
                if (document.getElementById('hbSocial').checked) {
                    heartbeat += '- [ ] **Social** \u2014 Twitter/social notifications?\n';
                }
                if (document.getElementById('hbGit').checked) {
                    heartbeat += '- [ ] **Projects** \u2014 Check git status, CI/CD status\n';
                }

                var hbCustom = document.getElementById('hbCustom').value.trim();
                if (hbCustom) {
                    heartbeat += '\n## Custom Tasks\n\n';
                    hbCustom.split('\n').forEach(function(line) {
                        line = line.trim();
                        if (line) {
                            if (line.startsWith('-')) {
                                heartbeat += '- [ ] ' + line.substring(1).trim() + '\n';
                            } else {
                                heartbeat += '- [ ] ' + line + '\n';
                            }
                        }
                    });
                }

                heartbeat += '\n## Rules\n\n';
                heartbeat += '- Rotate checks to reduce API cost\n';
                heartbeat += '- Only reach out if something important\n';
                heartbeat += '- Quiet hours: 23:00-08:00 (unless urgent)\n';
                heartbeat += '- Reply HEARTBEAT_OK if nothing needs attention\n';
            }

            // å„²å­˜
            generatedFiles = {
                identity: { content: identity, filename: 'IDENTITY.md' },
                soul: { content: soul, filename: 'SOUL.md' },
                user: { content: user, filename: 'USER.md' },
                agents: { content: agents, filename: 'AGENTS.md' },
                tools: { content: tools, filename: 'TOOLS.md' },
                heartbeat: { content: heartbeat, filename: 'HEARTBEAT.md' }
            };

            // æ›´æ–°é è¦½
            document.getElementById('preview-identity').textContent = identity;
            document.getElementById('preview-soul').textContent = soul;
            document.getElementById('preview-user').textContent = user;
            document.getElementById('preview-agents').textContent = agents;
            document.getElementById('preview-tools').textContent = tools;
            document.getElementById('preview-heartbeat').textContent = heartbeat;

            // é¡¯ç¤ºä¸‹è¼‰å€
            document.getElementById('download-section').classList.remove('hidden');
        }

        // ===== ä¸‹è¼‰å–®ä¸€æª”æ¡ˆ =====
        function downloadFile(type) {
            if (!generatedFiles[type]) {
                alert('è«‹å…ˆé»æ“Šã€Œç”Ÿæˆå…¨éƒ¨æª”æ¡ˆã€ï¼');
                return;
            }
            var file = generatedFiles[type];
            var blob = new Blob([file.content], { type: 'text/markdown;charset=utf-8' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = file.filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // ===== ä¸€éµä¸‹è¼‰å…¨éƒ¨ =====
        function downloadAllFiles() {
            var types = ['identity', 'soul', 'user', 'agents', 'tools', 'heartbeat'];
            types.forEach(function(type, index) {
                setTimeout(function() { downloadFile(type); }, index * 400);
            });
        }
    </script>
</body>
</html>
